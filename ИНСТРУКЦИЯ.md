# Как пользоваться тренажёром

## Что это такое?

Это тренажёр для изучения автотестов на Playwright. Здесь есть:
- Сайт с 5 уровнями сложности
- Готовые примеры тестов для каждого уровня
- Подсказки прямо на страницах

---

## Шаг 1: Установка (делается один раз)

1. Открой терминал (в WebStorm внизу есть вкладка "Terminal")

2. Введи команду и нажми Enter:
```
npm install
```

3. Подожди пока установится (1-2 минуты)

4. Установи браузер для тестов:
```
npx playwright install chromium
```

---

## Шаг 2: Запуск сайта

В терминале введи:
```
npm run dev
```

Появится ссылка вида `http://localhost:5173` — открой её в браузере.

Ты увидишь главную страницу с 5 уровнями. Можешь кликать и смотреть.

**Чтобы остановить сайт:** нажми `Ctrl + C` в терминале.

---

## Шаг 3: Запуск тестов

Открой **второй терминал** (нажми `+` рядом с вкладкой Terminal) и введи:

```
npm test
```

Это запустит все 63 теста. Ты увидишь зелёные галочки ✓ — значит тесты прошли.

---

## Шаг 4: Как смотреть тесты

Тесты находятся в папке `tests/`:

| Файл | Что тестирует |
|------|---------------|
| `level1.spec.js` | Клики, ввод текста |
| `level2.spec.js` | Формы, валидация |
| `level3.spec.js` | Ожидание элементов |
| `level4.spec.js` | Списки, фильтры |
| `level5.spec.js` | Drag-drop, модалки |

Открой любой файл и изучай примеры.

---

## Шаг 5: Как писать свои тесты

### Пример простого теста:

```javascript
import { test, expect } from '@playwright/test'

test('моя первая проверка', async ({ page }) => {
  // Открыть страницу
  await page.goto('/level1')

  // Найти поле ввода и написать текст
  await page.getByTestId('todo-input').fill('Привет мир')

  // Нажать кнопку
  await page.getByTestId('add-button').click()

  // Проверить что текст появился
  await expect(page.getByText('Привет мир')).toBeVisible()
})
```

### Основные команды:

| Что делает | Как писать |
|------------|------------|
| Открыть страницу | `await page.goto('/level1')` |
| Найти по data-testid | `page.getByTestId('имя')` |
| Найти по тексту | `page.getByText('текст')` |
| Найти кнопку | `page.getByRole('button', { name: 'Добавить' })` |
| Кликнуть | `.click()` |
| Ввести текст | `.fill('текст')` |
| Нажать Enter | `.press('Enter')` |
| Проверить видимость | `await expect(...).toBeVisible()` |
| Проверить текст | `await expect(...).toContainText('текст')` |

---

## Шаг 6: Запуск тестов с визуализацией

Чтобы видеть как тесты работают в браузере:

```
npm run test:ui
```

Откроется красивый интерфейс. Там можно:
- Выбрать конкретный тест
- Смотреть как он выполняется
- Видеть скриншоты

---

## Уровни сложности

### Level 1 — Базовые селекторы
Учишься: находить элементы, кликать, вводить текст

### Level 2 — Формы
Учишься: проверять валидацию, сообщения об ошибках

### Level 3 — Динамика
Учишься: ждать появления элементов, работать с таймерами

### Level 4 — Списки
Учишься: работать с массивами элементов, фильтрами

### Level 5 — Сложные штуки
Учишься: drag-and-drop, модальные окна, localStorage

---

## Частые проблемы

### "command not found: npm"
Нужно установить Node.js: https://nodejs.org (скачай LTS версию)

### Тесты падают с ошибкой "timeout"
Убедись что сайт запущен (`npm run dev` в другом терминале)

### Ничего не понятно
Начни с Level 1, там самое простое. Смотри файл `tests/level1.spec.js`

---

## Полезные ссылки

- Документация Playwright: https://playwright.dev/docs/intro
- Как искать элементы: https://playwright.dev/docs/locators

---

**Удачи в обучении!**
